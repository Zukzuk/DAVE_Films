CustomApplication=function(a){this.init(a)};
$.extend(CustomApplication.prototype,{model:{},events:{},view:{},controller:{},data:{},init:function(a){this.model=new Model(a);this.events=new Events;this.view=new View;this.controller=new Controller;this.data=new Data},clear:function(){this.add_deeplinking=function(){};this.navigate=function(){};this.load_view=function(){};this.do_login=function(){};this.do_logout=function(){}},setup:function(){app.model.responsive&&(app.model.setup_device(),$(window).resize(function(){app.model.setup_device()}));app.model.js_deeplink?
app.events.dispatch("ADD_DEEPLINKING",{}):app.events.dispatch("NAVIGATE",{uri:"/"})},add_deeplinking:function(){$.address.internalChange(function(){});$.address.externalChange(function(a){app.model.external_uri_change({uri:a.path})});$.address.change(function(a){app.model.setup_routing(a);""==app.model.routing.type?app.events.dispatch("NAVIGATE",{uri:app.model.landing_page}):"page"==app.model.routing.type?app.model.startup_complete?(console.app("routing :: startup complete"),console.app('routing :: simply navigate to the requested "page"'),
app.events.dispatch("LOAD_VIEW",{view:app.model.routing.view})):app.model.login_at_startup?(app.controller.check_login().success(function(a){a.login_status?(console.app("routing :: user is logged in, save publicly available data to the model"),console.app('routing :: navigate to the landing "securedpage"'),app.model.firstname=a.firstname,app.model.lastname=a.lastname,app.events.dispatch("NAVIGATE",{uri:app.model.landing_securedpage})):(console.app("routing :: user is not logged in"),console.app('routing :: login_at_startup is true, navigate to the login "page"'),
"login"==app.model.routing.view?app.events.dispatch("LOAD_VIEW",{view:"login"}):app.events.dispatch("NAVIGATE",{uri:"login"}))}),app.events.dispatch("UPDATE_HTML",{update:"set_navigation",visible:!1}),app.model.startup_complete=!0):(console.app("routing :: no login required"),console.app('routing :: simply navigate to the requested "page"'),app.events.dispatch("LOAD_VIEW",{view:app.model.routing.view})):"securedpage"==app.model.routing.type&&app.controller.check_login().success(function(a){a.login_status?
(console.log("routing :: user is logged in, save publicly available data to the model"),app.model.firstname=a.firstname,app.model.lastname=a.lastname,console.app('routing :: simply navigate to the requested "securedpage"'),app.events.dispatch("LOAD_VIEW",{view:app.model.routing.view}),app.data.get_user_privileges().success(function(a){app.events.dispatch("UPDATE_HTML",{update:"set_navigation",visible:!0,role_id:a.role_id})})):(console.app("routing :: user is not logged in"),console.app('routing :: navigate to the login "page"'),
app.events.dispatch("NAVIGATE",{uri:"login"}))})})},navigate:function(a){app.model.js_deeplink?$.address.path(a.uri):app.events.dispatch("LOAD_VIEW",{view:a.view})},load_view:function(a){app.model.routing.view!=app.model.current_page&&app.controller.load_view(a.view).success(function(b){app.events.dispatch("ADD_VIEW",{view:a.view,html:b})})},do_login:function(){var a=$.base64Encode($("input[name=username]").val()),b=$.base64Encode($("input[name=password]").val());app.controller.process_login(a,b).success(function(a){a.login_status?
window.location=app.model.base_url:app.events.dispatch("UPDATE_HTML",{update:"set_login_feedback",msg:a.msg})})},do_logout:function(){app.controller.process_logout().success(function(){window.location=app.model.base_url})}});Events=function(){this.init()};
$.extend(Events.prototype,{init:function(){},clear:function(){this.dispatch=function(){}},setup:function(){},dispatch:function(a,b){"NAVIGATE"==a?console.app("app event :: "+a+" "+b.uri):"LOAD_VIEW"==a?console.app("app event :: "+a+" "+b.view+"_view.php"):"ADD_VIEW"==a?console.app("view event :: "+a+" "+b.view):"UPDATE_HTML"==a?console.app("view event :: "+a+" "+b.update):console.app("app event :: "+a);switch(a){case "ADD_DEEPLINKING":app.add_deeplinking(b);break;case "NAVIGATE":app.navigate(b);break;
case "LOAD_VIEW":app.load_view(b);break;case "DO_LOGIN":app.do_login(b);break;case "DO_LOGOUT":app.do_logout(b);break;case "DO_FACEBOOK_LOGIN":app.do_facebook_login(b);break;case "DO_FACEBOOK_LOGOUT":app.do_facebook_logout(b);break;case "ADD_VIEW":app.view.add(b);break;case "UPDATE_HTML":app.view.update.html(b);break;default:"production"!=app.model.environment&&alert("event dispatcher :: '"+a+"' does not exist in js/app.events.js")}return!1}});Model=function(a){this.init(a)};
$.extend(Model.prototype,{base_url:"",environment:"",version:"",app_name:"",google_track_id:"",language:"",js_deeplink:"",responsive:"",login_target:"",login_at_startup:"",developer:"",developer_lib:["app","fb","dt","wf","mp"],xhr_pool:[],window_size:[],device:{type:"unknown",mobile:480,tablet:960,desktop:1280,wide:1920},routing:{type:"",view:"",filters:{}},external_uri_change:function(){},current_page:"",filter_types:[],pages:["login","test"],securedpages:"home time_registration projects time_report users billing_sets activities project_create".split(" "),
landing_page:"login",landing_securedpage:"home",startup_complete:!1,firstname:"",lastname:"",init:function(a){this.base_url=a.base_url;this.environment=a.environment;this.version=a.version;this.app_name=a.app_name;this.google_track_id=a.google_track_id;this.language=a.language;this.js_deeplink=a.js_deeplink;this.responsive=a.responsive;this.login_target=a.login_target;this.login_at_startup=a.login_at_startup;this.developer=a.developer;console.log(this.app_name+"\n","version : "+this.version+"\n",
"base_url : "+this.base_url+"\n","environment : "+this.environment+"\n","language : "+this.language+"\n","tracking : "+this.google_track_id+"\n","js_deeplink : "+this.js_deeplink+"\n","login_target : "+this.login_target+"\n","login_at_startup : "+this.login_at_startup+"\n","responsive : "+this.responsive);this.setup_console()},clear:function(){this.setup_console=function(){};this.setup_routing=function(){};this.toggle_routing_filter=function(){};this.replace_routing_filter=function(){};this.get_routing_uri=
function(){};this.setup_device=function(){}},setup:function(){},setup_console:function(){""==this.developer&&(this.developer=this.developer_lib.toString());for(var a=this.developer.split(","),b=0;b<a.length;b++)for(var c=a[b],e=0;e<this.developer_lib.length;e++)this.developer_lib[e]==c&&(console[this.developer_lib[e]]=console.log,"production"==this.environment&&(console[this.developer_lib[e]]=function(){}),this.developer_lib=$.grep(this.developer_lib,function(a){return a!=c}));for(b=0;b<this.developer_lib.length;b++)console[this.developer_lib[b]]=
function(){};if("production"==this.environment){window.console||(window.console={});a=["log","debug","warn","info"];for(b=0;b<a.length;b++)console[a[b]]=function(){}}},setup_routing:function(a){var b="",c="",e={},f=0;if("/"!=a.path){if(""==c)for(f=0;f<this.pages.length;f++)if(this.pages[f]==a.pathNames[0]){b="page";c=a.pathNames[0];break}if(""==c)for(f=0;f<this.securedpages.length;f++)if(this.securedpages[f]==a.pathNames[0]){b="securedpage";c=a.pathNames[0];break}""==c&&(b="errorpage",c="404")}for(f=
0;f<this.filter_types.length;f++){var d=this.filter_types[f];for(j=1;j<a.pathNames.length;j++)if(a.pathNames[j]==d)e[d]=[],console.log("adding filter_type :: "+d);else if("undefined"!=typeof e[d]){var g=jQuery.grep(this.filter_types,function(a){return a!=d});if(-1==$.inArray(a.pathNames[j],g))e[d].push(a.pathNames[j]),console.log("adding value to "+d+" :: "+a.pathNames[j]);else break}}this.routing={type:b,view:c,filters:e};console.app("setup_routing :: ",this.routing)},toggle_routing_filter:function(a,
b){if("undefined"==typeof this.routing.filters[a])this.routing.filters[a]=[],this.routing.filters[a].push(b);else for(i=0;i<this.routing.filters[a].length;i++){if(b==this.routing.filters[a][i]){this.routing.filters[a]=jQuery.grep(this.routing.filters[a],function(a){return a!=b});break}if(i==this.routing.filters[a].length-1){this.routing.filters[a].push(b);break}}console.app("update_routing_filter :: ",this.routing)},replace_routing_filter:function(a,b){"undefined"==typeof this.routing.filters[a]?
(this.routing.filters[a]=[],this.routing.filters[a].push(b)):this.routing.filters[a][0]=b;console.app("update_routing_filter :: ",this.routing)},get_routing_uri:function(){var a=this.routing.view+"/";for(i=0;i<this.filter_types.length;i++){var b=this.filter_types[i];if("undefined"!=typeof this.routing.filters[b])for(j=0;j<this.routing.filters[b].length;j++)0==j&&(a+=b+"/"),a+=this.routing.filters[b][j]+"/"}console.app("get_routing_uri :: uri",a);return a},setup_device:function(){app.model.window_size=
[$(window).width(),$(window).height()];this.window_size[0]<=this.device.mobile&&"mobile"!=this.device.type?(this.device.type="mobile",$("body").removeClass().addClass(this.device.type),console.app("device.type : "+this.device.type+" | size : "+this.window_size[0]+"/"+this.window_size[1])):this.window_size[0]>this.device.mobile&&this.window_size[0]<=this.device.tablet&&"tablet"!=this.device.type?(this.device.type="tablet",$("body").removeClass().addClass(this.device.type),console.app("device.type : "+
this.device.type+" | size : "+this.window_size[0]+"/"+this.window_size[1])):this.window_size[0]>this.device.tablet&&this.window_size[0]<=this.device.desktop&&"desktop"!=this.device.type?(this.device.type="desktop",$("body").removeClass().addClass(this.device.type),console.app("device.type : "+this.device.type+" | size : "+this.window_size[0]+"/"+this.window_size[1])):this.window_size[0]>this.device.desktop&&"wide"!=this.device.type&&(this.device.type="wide",$("body").removeClass().addClass(this.device.type),
console.app("device.type : "+this.device.type+" | size : "+this.window_size[0]+"/"+this.window_size[1]))}});View=function(){this.init()};
$.extend(View.prototype,{update:{},init:function(){this.update=new ViewUpdate;this.setup()},clear:function(){this.add=function(){};this.show_dropdown_menu=function(){};this.hide_dropdown_menu=function(){};this.login_view=function(){};this.home_view=function(){};this.time_registration_view=function(){};this.projects_view=function(){};this.project_create_view=function(){};this.time_report_view=function(){};this.users_view=function(){};this.billing_sets_view=function(){};this.activities_view=function(){}},
setup:function(){var a=$("#main_nav ul");main_nav_html=a.clone().removeAttr("style");a.remove();container=$("#container");$(document).off("click");$(document).off("keyup");$(document).off("change");$(document).off("blur");$(document).off("mouseenter");$(document).off("mouseleave");$(document).on("mouseenter","#main_nav li",this.show_dropdown_menu);$(document).on("mouseleave","#main_nav li",this.hide_dropdown_menu)},add:function(a){var b=app.view[a.view+"_view"];"function"===typeof b?b(a):"production"!=
app.model.environment&&alert("'ADD_VIEW' :: '"+a.view+"' does not exist in js/app.view.js")},show_dropdown_menu:function(){$(this).find("ul.sub").show()},hide_dropdown_menu:function(){$(this).find("ul.sub").hide()},login_view:function(){container.empty();$("#login").removeClass("hidden").addClass("visible");app.model.current_page="login";app.events.dispatch("UPDATE_HTML",{update:"default_page_update"})},home_view:function(a){container.hide().empty().html(a.html);app.data.get_user_privileges().success(function(a){app.model.current_page=
"home";app.events.dispatch("UPDATE_HTML",{update:"set_homepage",role_id:a.role_id});app.events.dispatch("UPDATE_HTML",{update:"default_page_update"});container.slideDown(400)})},time_registration_view:function(a){container.empty().html(a.html);app.model.current_page="time_registration";$("#time_registration .print-only").append(app.model.firstname+"<br />"+app.model.lastname);app.events.dispatch("UPDATE_HTML",{update:"default_page_update"})},projects_view:function(a){app.data.get_user_privileges().success(function(b){"1"==
b.role_id||"2"==b.role_id?(container.empty().html(a.html),app.model.current_page="projects",app.events.dispatch("UPDATE_HTML",{update:"default_page_update"})):app.events.dispatch("NAVIGATE",{uri:"home"})})},project_create_view:function(a){app.data.get_user_privileges().success(function(b){"1"==b.role_id||"2"==b.role_id?(container.empty().html(a.html),app.model.current_page="project_create",app.events.dispatch("UPDATE_HTML",{update:"default_page_update"})):app.events.dispatch("NAVIGATE",{uri:"home"})})},
time_report_view:function(a){app.data.get_user_privileges().success(function(b){"1"==b.role_id||"2"==b.role_id?(container.empty().html(a.html),app.model.current_page="time_report",app.events.dispatch("UPDATE_HTML",{update:"default_page_update"})):app.events.dispatch("NAVIGATE",{uri:"home"})})},users_view:function(a){app.data.get_user_privileges().success(function(b){"1"==b.role_id?(container.empty().html(a.html),app.model.current_page="users",app.events.dispatch("UPDATE_HTML",{update:"default_page_update"})):
app.events.dispatch("NAVIGATE",{uri:"home"})})},billing_sets_view:function(a){app.data.get_user_privileges().success(function(b){"1"==b.role_id?(container.empty().html(a.html),app.model.current_page="billing_sets",app.events.dispatch("UPDATE_HTML",{update:"default_page_update"})):app.events.dispatch("NAVIGATE",{uri:"home"})})},activities_view:function(a){app.data.get_user_privileges().success(function(b){"1"==b.role_id?(container.empty().html(a.html),app.model.current_page="activities",app.events.dispatch("UPDATE_HTML",
{update:"default_page_update"})):app.events.dispatch("NAVIGATE",{uri:"home"})})}});ViewUpdate=function(){this.init()};
$.extend(ViewUpdate.prototype,{init:function(){},clear:function(){this.html=function(){};this.set_login_feedback=function(){};this.set_navigation=function(){};this.set_homepage=function(){};this.default_page_update=function(){};this.get_background_image=function(){};this.add_flash=function(){};this.trace_object=function(){}},setup:function(){},html:function(a){var b=app.view.update[a.update];"function"===typeof b?b(a):"production"!=app.model.environment&&alert("'UPDATE_HTML' :: '"+a.update+"' does not exist in js/app.view.js")},
set_login_feedback:function(a){$("input[name=password]").val("");$("input[name=password]").focus();$("#feedback").empty().html(a.msg)},set_navigation:function(a){a.visible?("1"!=a.role_id&&("2"==a.role_id?(main_nav_html.find(".billing_sets").remove(),main_nav_html.find(".activities").remove(),main_nav_html.find(".users").remove()):"3"==a.role_id&&(main_nav_html.find(".projects").remove(),main_nav_html.find(".billing_sets").remove(),main_nav_html.find(".activities").remove(),main_nav_html.find(".reports").remove(),
main_nav_html.find(".users").remove())),$("#main_nav").append(main_nav_html),$("#profile_menu").append('<nav id="profile_menu"><span class="icon"><i class="icon-cog"></i></span><ul><li><a title="My Profile"></a></li><li><a href="javascript:void(0)" onclick="app.events.dispatch(\'DO_LOGOUT\'); return false;">Logout</a></li></ul></nav>'),$("#profile_menu li:first-child").find("a").append(app.model.firstname+"<br />"+app.model.lastname)):($("#main_nav").empty(),$("#profile_menu").empty())},set_homepage:function(a){$("#home h1").append("Welkom "+
app.model.firstname);"1"!=a.role_id&&("2"==a.role_id?($("#home").find(".billing_sets").remove(),$("#home").find(".activities").remove(),$("#home").find(".users").remove()):"3"==a.role_id&&($("#home").find(".projects").remove(),$("#home").find(".billing_sets").remove(),$("#home").find(".activities").remove(),$("#home").find(".reports").remove(),$("#home").find(".users").remove()))},default_page_update:function(){"login"!=app.model.current_page&&$("#login").removeClass("visible").addClass("hidden");
"time_registration"!=app.model.current_page&&$("#message-no-hours").removeClass("visible");$("#main_nav li").removeClass("current");$("#main_nav ."+app.model.current_page).addClass("current");switch(app.model.current_page){case "time_report":$("#main_nav .reports").addClass("current");break;case "project_create":$("#main_nav .projects").addClass("current")}$("body").removeClass().addClass(app.model.current_page);$("#loader_small").remove()},get_background_image:function(){var a="",a=app.model.username.replace("industry-",
""),a=a.toLowerCase(),a=a.replace("industry",""),a=a.replace("&",""),a=a.replace("-",""),a=a.replace(" ",""),a=a.replace(" ",""),a=a.replace(" ",""),a=a.replace("'",""),a=a.replace(" ",""),a=a.replace("`",""),a=a.replace(".",""),a=a.replace(".",""),a=a.replace(".",""),a=a.replace(" ",""),b="img/backgrounds/"+a;NaN;$.ajax({type:"HEAD",url:b,asynch:!0,cache:!1,success:function(){$("#title").attr("style","background-image: url("+b+")")},error:function(){}})},add_flash:function(){swfobject.embedSWF(app.model.base_url+
"swf/"+app.swf_name+".swf","altContent",app.width,app.height,app.version,app.model.base_url+"swf/expressInstall.swf",{base_url:app.model.base_url,environment:app.model.environment,app_name:app.model.app_name,google_track_id:app.model.google_track_id,language:app.model.language},{menu:"false",scale:"noScale",allowFullscreen:"true",allowScriptAccess:"always",allowNetworking:"all",bgcolor:"#FFFFFF",wmode:"transparent"},{id:app.id,name:app.id})},trace_object:function(a,b,c){b=b||"";c=c||1;for(var e="",
f=1;f<c;f++)e+="&nbsp;&nbsp;&nbsp;";f="";1==c&&(f="(self)");if("paging"!=b){var d=e+b+f+" : ";if("object"==typeof a&&null!==a){var d=d+(typeof a+"<br />"),g;for(g in a)a.hasOwnProperty(g)&&(d+=app.view.trace_object(a[g],g,c+1))}else d+=""+a+"<br />"}return d}});Controller=function(){this.init()};
$.extend(Controller.prototype,{init:function(){},clear:function(){this.execute=function(){};this.xhr_abort=function(){};this.load_view=function(){};this.check_login=function(){};this.process_login=function(){};this.process_logout=function(){};this.send_email=function(){}},setup:function(){},execute:function(a,b,c,e,f,d){return $.ajax({url:a,type:b,dataType:c,cache:e,data:f,success:function(a){"load_view"==d?console.app(d+" msg :: fetched html successfully."):console.app(d+" msg :: "+a.msg)},error:function(a,
b,c){console.app(d+" error :: "+a.status+", thrownError="+c+", fired from "+d)},beforeSend:function(){},complete:function(){}})},xhr_abort:function(){$.each(app.model.xhr_pool,function(a,b){console.app("ABORT AJAX CALL\napp.controller.xhr_abort :: ",b);b.abort();app.model.xhr_pool=$.grep(app.model.xhr_pool,function(a){return a!=b})})},load_view:function(a){app.controller.xhr_abort();php_controller=!1;switch(a+"_view"){case "login_view":return app.events.dispatch("ADD_VIEW",{view:"login"}),{success:function(){console.app("toggle login_view success :: html visible")}};
default:for(var b=0;b<app.model.pages.length;b++)if(app.model.pages[b]==a){php_controller="page";break}if(!php_controller)for(b=0;b<app.model.securedpages.length;b++)if(app.model.securedpages[b]==a){php_controller="securedpage";break}php_controller||"production"!=app.model.environment&&alert("load_view :: '"+a+"' is not added to a controller yet. Check app.controller.js/load_view")}return this.execute(app.model.base_url+php_controller+"/load_view","POST","html",!1,{view:a+"_view",module:a},"load_view")},
check_login:function(){return this.execute(app.model.base_url+"login/check_login","POST","json",!1,{},"check_login")},process_login:function(a,b){return this.execute(app.model.base_url+"login/process_login","POST","json",!1,{username:a,password:b},"process_login")},process_logout:function(){return this.execute(app.model.base_url+"login/process_logout","POST","json",!1,{},"process_logout")},send_email:function(a,b,c,e,f,d){b=app.model.base_url+"email/send_email";d="POST";return this.execute(b,d,"json",
!1,{id:a,name:c,email:e,image:f,type:d},"send_email")}});Data=function(a){this.init(a)};
$.extend(Data.prototype,{init:function(){},clear:function(){this.execute=function(){};this.get_user_privileges=function(){};this.get_local_projects=function(){};this.get_billing_sets=function(){};this.get_time_report_data=function(){};this.get_all_users=function(){};this.update_user=function(){};this.check_user_uniqueness=function(){};this.save_new_user=function(){};this.get_user_roles=function(){};this.get_project_statusses=function(){};this.get_person_log=function(){};this.get_activities=function(){};
this.save_activity=function(){};this.delete_activity=function(){};this.get_billing_sets=function(){};this.get_billing_set_data=function(){};this.save_billing_set_rate=function(){};this.save_new_billing_set_name=function(){};this.get_budgets=function(){};this.get_project_data=function(){};this.get_payment_statusses=function(){};this.get_contractors=function(){};this.get_project_comments=function(){};this.get_project_report=function(){};this.save_budget=function(){};this.save_comment=function(){};this.set_billing_set=
function(){};this.set_project_status=function(){};this.save_contractor=function(){};this.delete_contractor=function(){};this.get_basecamp_projects=function(){};this.get_allocations=function(){};this.save_allocation=function(){};this.delete_allocation=function(){};this.update_allocation=function(){};this.update_bc_projects_cache=function(){}},setup:function(){},execute:function(a,b,c,e,f,d){return $.ajax({url:a,type:b,dataType:c,cache:e,data:f,success:function(a){a.session||("production"!=app.model.environment&&
(alert("Session is currupt, the application will now reset."),alert("msg : "+a.msg)),window.location.reload(app.model.base_url));console.app(d+" msg :: "+a.msg)},error:function(a,b,c){console.app(d+" error :: "+a.status+", thrownError="+c+", fired from "+d)},beforeSend:function(a){app.model.xhr_pool.push(a)},complete:function(a){app.model.xhr_pool=$.grep(app.model.xhr_pool,function(b){return b!=a})}})},get_user_privileges:function(){return this.execute(app.model.base_url+"secureddata/get_user_privileges",
"POST","json",!1,{},"get_user_privileges")},get_local_projects:function(){return this.execute(app.model.base_url+"secureddata/get_local_projects","POST","json",!1,{},"get_local_projects")},get_billing_sets:function(){return this.execute(app.model.base_url+"secureddata/get_billing_sets","POST","json",!1,{},"get_billing_sets")},get_time_report_data:function(a,b){return this.execute(app.model.base_url+"secureddata/get_time_report_data","POST","json",!1,{from:a,to:b},"get_time_report_data")},get_all_users:function(){return this.execute(app.model.base_url+
"secureddata/get_all_users","POST","json",!1,{},"get_all_users")},update_user:function(a,b,c){return this.execute(app.model.base_url+"secureddata/update_user","POST","json",!1,{type:a,val:b,uid:c},"update_user")},check_user_uniqueness:function(a,b){return this.execute(app.model.base_url+"secureddata/check_user_uniqueness","POST","json",!1,{value:b,type:a},"check_user_uniqueness")},save_new_user:function(a,b,c,e,f,d,g,h,k){return this.execute(app.model.base_url+"secureddata/save_new_user","POST","json",
!1,{firstname:a,lastname:b,username:c,email:e,hours_contract:f,bc_token:d,password:g,role_id:h,activity_id:k},"save_new_user")},get_user_roles:function(){return this.execute(app.model.base_url+"secureddata/get_user_roles","POST","json",!1,{},"get_user_roles")},get_project_statusses:function(){return this.execute(app.model.base_url+"secureddata/get_project_statusses","POST","json",!1,{},"get_project_statusses")},get_person_log:function(a,b){return this.execute(app.model.base_url+"secureddata/get_person_log",
"POST","json",!1,{user_id:a,project_id:b},"get_person_log")},get_activities:function(){return this.execute(app.model.base_url+"secureddata/get_activities","POST","json",!1,{},"get_activities")},save_activity:function(a,b){return this.execute(app.model.base_url+"secureddata/save_activity","POST","json",!1,{activity_name:a,activity_id:b},"save_activity")},delete_activity:function(a){return this.execute(app.model.base_url+"secureddata/delete_activity","POST","json",!1,{activity_id:a},"delete_activity")},
get_billing_sets:function(){return this.execute(app.model.base_url+"secureddata/get_billing_sets","POST","json",!1,{},"get_billing_sets")},get_billing_set_data:function(a){return this.execute(app.model.base_url+"secureddata/get_billing_set_data","POST","json",!1,{billing_set_id:a},"get_billing_set_data")},save_billing_set_rate:function(a,b,c){return this.execute(app.model.base_url+"secureddata/save_billing_set_rate","POST","json",!1,{billing_set_id:a,uid:b,rate:c},"save_billing_set_rate")},save_new_billing_set_name:function(a){return this.execute(app.model.base_url+
"secureddata/save_new_billing_set_name","POST","json",!1,{name:a},"save_new_billing_set_name")},get_budgets:function(a){return this.execute(app.model.base_url+"secureddata/get_budgets","POST","json",!1,{project_id:a},"get_budgets")},get_project_data:function(a){$(".result.part").slideUp();return this.execute(app.model.base_url+"secureddata/get_project_data","POST","json",!1,{project_id:a},"get_project_data")},get_payment_statusses:function(a){return this.execute(app.model.base_url+"secureddata/get_payment_statusses",
"POST","json",!1,{project_id:a},"get_payment_statusses")},get_contractors:function(a){return this.execute(app.model.base_url+"secureddata/get_contractors","POST","json",!1,{project_id:a},"get_contractors")},get_project_comments:function(a){return this.execute(app.model.base_url+"secureddata/get_project_comments","POST","json",!1,{project_id:a},"get_project_comments")},get_project_report:function(a){$(".result.part").slideUp();return this.execute(app.model.base_url+"secureddata/get_project_report",
"POST","json",!1,{project_id:a},"get_project_report")},save_budget:function(a,b,c,e){return this.execute(app.model.base_url+"secureddata/save_budget","POST","json",!1,{activity:a,type:b,value:c,project_id:e},"save_budget")},save_comment:function(a,b){return this.execute(app.model.base_url+"secureddata/save_comment","POST","json",!1,{comment:b,project_id:a},"save_comment")},set_billing_set:function(a,b){return this.execute(app.model.base_url+"secureddata/set_billing_set","POST","json",!1,{project_id:a,
billing_set_id:b},"set_billing_set")},set_project_status:function(a,b){console.app("set_project_status "+a+"|"+b);return this.execute(app.model.base_url+"secureddata/set_project_status","POST","json",!1,{project_id:a,project_status_id:b},"set_project_status")},save_contractor:function(a,b,c){return this.execute(app.model.base_url+"secureddata/save_contractor","POST","json",!1,{project_id:a,row_id:c.row_id,contractor:c.contractor,description:c.description,activity_id:c.activity_id,hours:c.hours,rate:c.rate,
payment_id:c.payment_id},"save_contractor")},delete_contractor:function(a){return this.execute(app.model.base_url+"secureddata/delete_contractor","POST","json",!1,{row_id:a},"delete_contractor")},get_basecamp_projects:function(){$(".projects-wrapper").addClass("loading");return this.execute(app.model.base_url+"secureddata/get_basecamp_projects","POST","json",!1,{},"get_basecamp_projects")},get_allocations:function(a){return this.execute(app.model.base_url+"secureddata/get_allocations","POST","json",
!1,{"dates[]":a},"get_allocations")},save_allocation:function(a,b,c,e){return this.execute(app.model.base_url+"secureddata/save_allocation","POST","json",!1,{hours:a,project_id:b,date:c,description:"undefined"!==typeof e?e:""},"save_allocation")},delete_allocation:function(a){return this.execute(app.model.base_url+"secureddata/delete_allocation","POST","json",!1,{allocation_id:a},"delete_allocation")},update_allocation:function(a){var b=$(".entry-"+a).find(".hours").val(),c=$(".entry-"+a).find("textarea").val();
return this.execute(app.model.base_url+"secureddata/update_allocation","POST","json",!1,{hours:b,description:c,allocation_id:a},"update_allocation")},update_bc_projects_cache:function(){return this.execute(app.model.base_url+"secureddata/update_bc_projects_cache","POST","json",!1,{},"update_bc_projects_cache")}});